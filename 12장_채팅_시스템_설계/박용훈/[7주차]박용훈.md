
- 종단간 암호화?


## 채팅 서비스가 제공하는 기능
1. 클라이언트들로 부터 메시지 수신
2. 메시지 수신자 결정 및 전달
3. 수신자가 접속 상태가 아닌 경우에는 접속할 때까지 해당 메시지 보관

> 어떤 프로토콜을 사용해야 할까?
http: keep-alive 헤더를 사용하면 효율적인데, 클라이언트와 서버 사이의 연결을 끊지 않고
계속 유지할 수 있다. TCP 접속 과정에서 발생할 수 있는 핸드셰이크 횟수를 줄일 수 있다.

**BUT** 

HTTP는 클라이언트가 연결을 만드는 프로토콜이며, 서버에서 클라이언트로 임의 시점에 메시지를 보내는데 
는 쉽게 쓰일 수 없다.


서버가 연결을 만드는것 처럼 동작할 수 있게 보이게 하는 기법

1. 폴링
- 클라이언트가 주기적으로 서버에게 새 메시지가 있냐고 물어보는 방법
- 비용은 하면할수록 비싸짐
- 답해줄 메시지가 없는 경우에는 서버 자원이 낭비가 되어진다.
2. 롱 폴링
- 클라이언트는 새 메시지가 반환되거나 타임아웃 될 때까지 연결을 유지한다.
- 여전히 비효율적:메시지를 많이 받지 않는 클라이언트도 타임아웃이 일어날때마다 주기적으로 서버에 다시 접속할 수 있다.
3. 웹 소켓
- 클라이언트에게 비동기 메시지를 보낼때 가장 널리 사용하는 기술이다.
- 설계도 단순하고 직관적이다.


