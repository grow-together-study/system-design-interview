# 🧾 대규모 시스템 설계 스터디 회고록 – 1장

**일시:** 2025년 6월 11일 (수) 오후 9시 ~ 11시

**참여자:** 박이현, 최성강, 박용훈, 전희진, 수빈

---

## ✅ 전체 흐름 요약

### 1. 실무 아키텍처 경험 공유

* 권역별 DB 분산 구조 (수도권/영남/충청), 로드밸런서 + 웹서버 + WAS + 마스터/슬레이브 DB 구성
* 쿠버네티스 기반 MSA 운영, 도메인별 분리 및 외부 DB 관리 사례 공유
* 풀로그 저장 구조의 문제점 → Elasticsearch 부하 경험 → 요약 로그, 롤링 설정 적용

### 2. 개념 기반 토론 및 실무 연결

* 무상태 아키텍처: 세션 미사용, 요청 상태 독립 유지
* JWT 사용 시 세션 혼용 실수 회고, 리프레시 토큰은 DB 저장, RTR 전략은 보안 강화 목적
* 마스터-슬레이브 전환 시 트랜잭션에 readOnly 속성 분리 필요
* 메시지 큐: Kafka(대용량), Redis Streams(도메인 내부), RabbitMQ(라우팅) 비교
* 캐시 전략은 실무 적용 부족, 개념 위주 (LRU/LFU 등), CDN 히트율 90\~98% (썸네일 캐시 사례)

### 3. 트래픽 병목 및 티켓팅 시스템 사례

* 오토스케일링만으로는 한계 → DB, 외부 API 병목 발생
* 대기열 + 메시지 큐 + TTL + 웹소켓 활용한 유저 흐름 제어
* 창 이탈 감지, TTL 만료 처리, 웹소켓 ping/pong 논의

### 4. 실무 고민 및 면접 대비

* AWS 경험 여부 면접 질문 빈도 높음 → NCP 사용자일 경우 실무 사용 위주로 어필
* 로그 시스템 최적화, 슬레이브 동기화, 캐시 무효화 리스크 관리 필요
* 실무 환경에 따라 기술 도입이 제한되기도 함 → 사이드 프로젝트에서 실습 권장

---

## 💡 주요 질문 & 요약 답변

* **권역별 DB는 샤딩인가요?**
  → 분산 저장은 맞지만 전통적 샤딩 정의에는 부합하지 않음

* **캐시 경험 있으신가요?**
  → 실무에서는 거의 없음, 개념 중심 학습 진행 중

* **무상태 아키텍처란?**
  → 상태 저장 없이 독립적인 API 요청 처리 방식

* **마스터-슬레이브 전환 시 필요한 작업은?**
  → 트랜잭션 분리 설정, 슬레이브로 읽기 분기

* **JWT 리프레시 토큰 저장 위치는?**
  → DB에 저장, RTR 전략은 보안성 강화용

* **티켓팅 시스템에서 대기열을 사용하는 이유는?**
  → 병목 대응 및 트래픽 조절

* **메시지 큐 선택 기준은?**

    * Kafka → 고신뢰성, 대규모 처리
    * Redis Streams → 가벼운 도메인 내부 큐
    * RabbitMQ → 복잡한 라우팅 필요 시

* **CDN 캐시 히트율은?**
  → 90\~98%, 벤더 제공 대시보드나 로그 분석으로 확인

---

## 📝 회고 및 개선 제안

* 질문 외에 각자 **인상 깊었던 내용 1개**씩 준비하면 논의의 폭이 넓어짐
* 질문은 **2개 이내**가 적당, 유사 질문은 병합해서 깊이 토론
* **사전 조사/답변은 자율**로 운영하되, 토론 중 보완되면 더 효과적
* 1장은 개요 중심이었으므로 이후 장부터는 기술 주제별 심화 기대
* 캐시, 트래픽 분산, 인증 전략 등 **실무 연계 사례 발굴 및 적용 실습** 병행하면 학습 효율 ↑

---

## 🔍 보완 학습 제안

* 캐시 정책 실습: `@Cacheable`, Redis TTL, Caffeine 캐시, 무효화 전략
* 마스터-슬레이브 복제 구조 및 다중 DataSource 설정 실습
* Kafka, Redis Streams 실습: 메시지 생산/소비 흐름, 설정 비교
* 티켓팅 시스템 구조 설계: 대기열, 메시지 큐, 웹소켓 동시 활용 모델링
* JWT 보안: RTR 구현, 토큰 탈취 대응 정책, 디바이스/위치 제어 전략
